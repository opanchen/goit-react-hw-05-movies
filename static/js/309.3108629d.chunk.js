"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[309],{309:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(861),a=t(439),s=t(757),i=t.n(s),c=t(791),o=t(689),u=t(87),l=t(273),f=t(181),p="MovieDetails_wrapper__YMWLn",h="MovieDetails_add-info__Rr+5j",v="MovieDetails_add-nav__ZmH79",d="MovieDetails_page-link__TJQ+u",m=t(99),x="MovieMainInfo_main-info__F7wYr",g="MovieMainInfo_description__AbXuj",w="MovieMainInfo_descr-item__MYTCq",j=t(184),k=function(e){var n=e.movie,t=n.title,r=n.overview,a=n.release_date,s=n.genres,i=n.poster_path,c=n.vote_average,o=i?"".concat(l.G.imgBaseURL).concat(i):m,u=a?a.slice(0,4):"unknown";return(0,j.jsxs)("section",{className:x,children:[(0,j.jsx)("img",{src:o,alt:t,width:320}),(0,j.jsxs)("div",{className:g,children:[(0,j.jsxs)("h1",{children:[t," (",u,")"]}),(0,j.jsxs)("p",{children:["User Score: ",Math.round(10*Number(c)),"%  "]}),(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("h2",{children:"Overview"}),(0,j.jsx)("p",{children:r})]}),(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("h2",{children:"Genres"}),(0,j.jsx)("p",{children:0!==(null===s||void 0===s?void 0:s.length)?s.map((function(e){return e.name})).join(" "):"unknown"})]})]})]})},_=function(){var e,n,t=(0,o.UO)().movieId,s=(0,c.useState)(null),m=(0,a.Z)(s,2),x=m[0],g=m[1],w=(0,c.useState)(""),_=(0,a.Z)(w,2),b=_[0],y=_[1],M=(0,c.useState)(!1),Z=(0,a.Z)(M,2),N=Z[0],S=Z[1],U=(0,o.TH)(),C=(0,c.useRef)(null!==(e=null===(n=U.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies");return(0,c.useEffect)((function(){var e=new AbortController,n=e.signal;S(!0);var a=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.G.getDetails(t,n);case 3:if(!1!==(r=e.sent).success){e.next=7;break}return y("Something went wrong... Information about this movie was not found yet. Please try again later."),e.abrupt("return");case 7:g(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),y("Something went wrong... Please try again later.");case 13:return e.prev=13,S(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return a(),function(){return e.abort()}}),[t]),(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)(u.rU,{to:C.current,className:d,children:"Go back"}),N&&(0,j.jsx)(f.Z,{}),b&&(0,j.jsx)("div",{children:b}),x&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k,{movie:x}),(0,j.jsxs)("section",{className:h,children:[(0,j.jsx)("h2",{children:"Additional information"}),(0,j.jsxs)("ul",{className:v,children:[(0,j.jsx)("li",{children:(0,j.jsx)(u.rU,{to:"cast",className:d,children:"Cast"})}),(0,j.jsx)("li",{children:(0,j.jsx)(u.rU,{to:"reviews",className:d,children:"Reviews"})})]}),(0,j.jsx)(c.Suspense,{fallback:(0,j.jsx)(f.Z,{}),children:(0,j.jsx)(o.j3,{})})]})]})]})}},273:function(e,n,t){t.d(n,{G:function(){return p}});var r=t(861),a=t(757),s=t.n(a),i="ef2f22bb4de9529af845b70082225b5a",c=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/trending/all/day?api_key=".concat(i),e.next=3,fetch(t,{signal:n});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.status);case 6:return e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/search/movie?api_key=".concat(i,"&query=").concat(n,"&language=en-US&page=1&include_adult=false"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(i,"&language=en-US"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=").concat(i,"&language=en-US"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/movie/".concat(n,"/reviews?api_key=").concat(i,"&language=en-US&page=1"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),p={getTrending:c,getMovies:o,getDetails:u,getCast:l,getReviews:f,imgBaseURL:"https://image.tmdb.org/t/p/w500"}},99:function(e,n,t){e.exports=t.p+"static/media/defaultPoster.71253f31d01ef6cdd4cc.jpeg"},861:function(e,n,t){function r(e,n,t,r,a,s,i){try{var c=e[s](i),o=c.value}catch(u){return void t(u)}c.done?n(o):Promise.resolve(o).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function c(e){r(i,a,s,c,o,"next",e)}function o(e){r(i,a,s,c,o,"throw",e)}c(void 0)}))}}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=309.3108629d.chunk.js.map